<!-- https://github.com/Greg01001000/cs81-module7a-dailysim -->
<!-- CS 81 Module 7 Assignment 7B: Daily Schedule Async Simulator, by GregH, 7/21/25 -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Daily Schedule Simulation</title>
</head>
<body style="font-family: sans-serif; text-align: center; padding-top: 60px; background-color: #eef;">

  <h1>My Simulated Day</h1>
  <div id="output" style="margin-top: 40px; font-size: 1.5rem;"></div>

  <script>
    const output = document.getElementById("output");

    // This output doesn't need a delay before it starts, so it doesn't need a Promise.
    output.innerHTML = "Getting out of bed. . .<br>Trying to wake up. . .";

    // In each step, 'delay' is multiplied by the number of hours the previous step should take.
    function simulateDay(delay) {
        return new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += "<p>Going out to do ministry work. . .</p>";
                resolve();
            }, delay);
        })
        .then(() => new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += "<p>Stopping for lunch. . .</p>";
                resolve();
            }, delay * 2);
        }))
        .then(() => new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += "<p>Going to Bible meeting. . .</p>";
                resolve();
            }, delay);
        }))
        .then(() => new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += "<p>Going home. . .</p>";
                resolve();
            }, delay * 3);
        }))
        .then(() => new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += "<p>Doing schoolwork. . .</p>";
                resolve();
            }, delay * 0.2);
        }))
        .then(() => new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += "<p>Having dinner. . .</p>";
                resolve();
            }, delay * 3);
        }))
        .then(() => new Promise(resolve => {
            setTimeout(() => {
                // Here is my random twist: a 50% chance of doing schoolwork or watching a movie.
                output.innerHTML += Math.random() < 0.5 
                  ? "<p>Doing schoolwork. . .</p>" 
                  : "<p>All my schoolwork is done!<br>Let's watch a movie!</p>";
                resolve();
            }, delay);
        }))
        .then(() => new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += "<p>Getting ready for bed. . .</p>";
                resolve();
            }, delay * 4);
        }))
        .then(() => new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += "<p>Sleeping. . .<br>(End of day)</p>";
                resolve();
            }, delay);
        }));
    }
    // Start the simulation. For real time, use 3600000 (1 hour) as the delay. Each  
    // step multiplies its delay by the number of hours the previous step should take.
    // For testing, you can use a smaller value here, e.g., 1000.
    simulateDay(3600000);
  </script>

</body>
</html>

<!-- https://github.com/Greg01001000/cs81-module7a-dailysim -->
